{% macro contactPanel(icon, icon_wrapper_attributes, icon_attributes, text) %}
  <div class="contact-block-panel--inline">
    {% if icon is defined and icon %}
      <div{{ icon_wrapper_attributes }}>
        <span{{ icon_attributes }} class="{{ icon }}"></span>
      </div>
    {% endif %}
    {{- text -}}
  </div>
{% endmacro %}

<div{{ content_attributes }}>
  <div{{ body_attributes }}>
    <h4{{ title_attributes }}>{{ title }}</h4>

    <div{{ body_wrapper_attributes }}>
      {% if address_text is defined and address_text %}
        {{ _self.contactPanel(address_icon, icon_wrapper_attributes, icon_attributes, address_text) }}
      {% endif %}
      {% if phone_text is defined and phone_text %}
        {{ _self.contactPanel(phone_icon, icon_wrapper_attributes, icon_attributes, phone_text) }}
      {% endif %}
      {% if email_text is defined and email_text %}
        {{ _self.contactPanel(email_icon, icon_wrapper_attributes, icon_attributes, link(email_text, 'mailto:' ~ email_text)) }}
      {% endif %}

      {% if (facebook is defined and facebook)
        or (twitter is defined and twitter)
        or (linked_in is defined and linked_in)
        or (github is defined and github) %}
      <hr class="contact-block-panel__divider" />

      <div class="contact-block-panel--inline contact-block-panel__social">
        {% if facebook is defined and facebook %}
        <a href="{{ facebook }}" target="_blank" class="contact-social-link">
          <span class="fa-facebook"></span>
        </a>
        {% endif %}
        {% if twitter is defined and twitter %}
        <a href="{{ twitter }}" target="_blank" class="contact-social-link">
          <span class="fa-twitter"></span>
        </a>
        {% endif %}
        {% if linked_in is defined and linked_in %}
        <a href="{{ linked_in }}" target="_blank" class="contact-social-link">
          <span class="fa-linked-in"></span>
        </a>
        {% endif %}
        {% if github is defined and github %}
        <a href="{{ github }}" target="_blank" class="contact-social-link">
          <span class="fa-github"></span>
        </a>
        {% endif %}
      </div>
      {% endif %}
    </div>
  </div>
</div>
